# –û—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–î–∞—Ç–∞: 2025-11-03

## ‚úÖ 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ LDA max_iter

**–ò–∑–º–µ–Ω–µ–Ω–æ:** `max_iter` —Å 100 –Ω–∞ 60

**–§–∞–π–ª—ã:**
- `lda_hyperopt/run.py:239` - default=60
- `lda_hyperopt/README.md:80` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
```python
# –í run.py
obj = make_objective(
    Xval,
    seed=args.seed,
    max_iter=args.max_iter,  # = 60
    batch_size=args.batch_size,
    learning_method="online"
)
```

---

## ‚úÖ 2. –ù–∞—á–∞–ª—å–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

**–°—Ç–∞—Ç—É—Å:** –û–¥–∏–Ω–∞–∫–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ ‚úì

**–§–∞–π–ª:** `lda_hyperopt/lda_init_population.json`
```json
{
  "T_range": [2, 1000],
  "pop_size": 20,
  "seed": 42,
  "initial_population": [733, 811, 33, 355, 777, 115, 452, 940, 879, 345,
                         576, 53, 950, 602, 162, 238, 422, 511, 660, 285]
}
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:**
- –í—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≤—ã–∑—ã–≤–∞—é—Ç: `initial_population=initial_population.copy()`
- GA: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏
- ES: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–ø—É–ª—è—Ü–∏–∏
- PABBO Simple: –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –≤—Å–µ 20 —Ç–æ—á–µ–∫ –≤ –Ω–∞—á–∞–ª–µ
- PABBO Full: –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –≤—Å–µ 20 —Ç–æ—á–µ–∫ –≤ –Ω–∞—á–∞–ª–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ª–æ–≥–∞—Ö:**
–ö–∞–∂–¥—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ª–æ–≥–∏—Ä—É–µ—Ç: `Initial population: [733, 811, 33, ...]`

---

## ‚úÖ 3. –ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä–æ–≤

### 3.1 Genetic Algorithm (GA)

**–§–∞–π–ª:** `lda_hyperopt/optimizers/ga.py`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ run.py:**
```python
cxpb = 0.9          # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–∞
mutpb = 0.2         # –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –º—É—Ç–∞—Ü–∏–∏
elite = 5           # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–∏—Ç–Ω—ã—Ö –æ—Å–æ–±–µ–π
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ:**
```python
tournsize = 3       # –†–∞–∑–º–µ—Ä —Ç—É—Ä–Ω–∏—Ä–∞ –¥–ª—è —Å–µ–ª–µ–∫—Ü–∏–∏
dT = 5              # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —à–∞–≥ –º—É—Ç–∞—Ü–∏–∏
```

**–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```python
T_bounds = (2, 1000)
seed = 42
early_stop_eps_pct = 0.01  # 1%
max_no_improvement = 5
pop_size = 20  # –∏–∑ initial_population
```

**–†–∞–±–æ—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
1. **–°–µ–ª–µ–∫—Ü–∏—è**: Tournament selection (tournsize=3)
2. **–ö—Ä–æ—Å—Å–æ–≤–µ—Ä**: Binary crossover —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 0.9
3. **–ú—É—Ç–∞—Ü–∏—è**: Integer mutation (¬±dT) —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 0.2
4. **–≠–ª–∏—Ç–∏–∑–º**: 5 –ª—É—á—à–∏—Ö –æ—Å–æ–±–µ–π –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç
5. **–ó–∞–º–µ–Ω–∞**: elite + –ª—É—á—à–∏–µ (pop_size - elite) –ø–æ—Ç–æ–º–∫–æ–≤

---

### 3.2 Evolution Strategy (ES)

**–§–∞–π–ª:** `lda_hyperopt/optimizers/es.py`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ run.py:**
```python
mu = 5              # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–æ–¥–∏—Ç–µ–ª–µ–π
lmbda = 10          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–º–∫–æ–≤
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ:**
```python
dT = 5              # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥–ª—è –º—É—Ç–∞—Ü–∏–∏
```

**–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```python
T_bounds = (2, 1000)
seed = 42
early_stop_eps_pct = 0.01  # 1%
max_no_improvement = 5
```

**–†–∞–±–æ—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –ë–µ—Ä—É—Ç—Å—è –≤—Å–µ 20 —Ç–æ—á–µ–∫, –≤—ã–±–∏—Ä–∞—é—Ç—Å—è –ª—É—á—à–∏–µ mu=5
2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—Ç–æ–º–∫–æ–≤**: lmbda=10 –ø–æ—Ç–æ–º–∫–æ–≤ —á–µ—Ä–µ–∑ –º—É—Ç–∞—Ü–∏—é N(0, dT)
3. **–°–µ–ª–µ–∫—Ü–∏—è**: (Œº+Œª) - –ª—É—á—à–∏–µ 5 –∏–∑ (5 —Ä–æ–¥–∏—Ç–µ–ª–µ–π + 10 –ø–æ—Ç–æ–º–∫–æ–≤)

---

### 3.3 PABBO Simple

**–§–∞–π–ª:** `lda_hyperopt/optimizers/pabbo_simple.py`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ run.py:**
```python
exploration_rate = 0.3      # 30% exploration
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ:**
```python
temperature_decay = 0.95
min_temperature = 0.1
```

**–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```python
T_bounds = (2, 1000)
seed = 42
early_stop_eps_pct = 0.01  # 1%
max_no_improvement = 5
n_initial = 20  # –∏–∑ initial_population
```

**–†–∞–±–æ—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –û—Ü–µ–Ω–∫–∞ –≤—Å–µ—Ö 20 —Ç–æ—á–µ–∫, temperature=1.0
2. **–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è**:
   - 30% exploration: random T –∏–∑ [2, 1000]
   - 70% exploitation: Gaussian –≤–æ–∫—Ä—É–≥ top-5, radius = temperature √ó range
3. **Temperature decay**: temp = max(0.1, temp √ó 0.95)
4. **–ü–∞–º—è—Ç—å**: –•—Ä–∞–Ω–∏—Ç –≤—Å–µ –æ—Ü–µ–Ω–µ–Ω–Ω—ã–µ —Ç–æ—á–∫–∏

---

### 3.4 PABBO Full

**–§–∞–π–ª:** `lda_hyperopt/optimizers/pabbo_full.py`

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ run.py:**
```python
model_path = args.pabbo_model  # –ü—É—Ç—å –∫ Transformer –º–æ–¥–µ–ª–∏
exploration_rate = 0.3          # 30% exploration
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–ª–∞—Å—Å–µ:**
```python
temperature_decay = 0.95
min_temperature = 0.1
```

**–û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```python
T_bounds = (2, 1000)
seed = 42
early_stop_eps_pct = 0.01  # 1%
max_no_improvement = 5
```

**–†–∞–±–æ—Ç–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞:**
- **–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –ù–ï –¥–æ—Å—Ç—É–ø–Ω–∞**: fallback –Ω–∞ PABBO Simple
- **–ï—Å–ª–∏ –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–Ω–∞**:
  1. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**: –û—Ü–µ–Ω–∫–∞ –≤—Å–µ—Ö 20 —Ç–æ—á–µ–∫
  2. **–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è**:
     - 30% exploration: random T –∏–∑ [2, 1000]
     - 70% exploitation: Transformer –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç distribution ‚Üí sample T
  3. **Temperature decay**: temp = max(0.1, temp √ó 0.95)
  4. **Meta-learning**: Transformer —É—á–∏—Ç—Å—è –Ω–∞ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö

---

## ‚úÖ 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏

### 4.1 –û–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–æ–¥–∏–Ω–∞–∫–æ–≤—ã –¥–ª—è –≤—Å–µ—Ö)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ |
|----------|----------|-----------|
| `T_bounds` | (2, 1000) | ‚úì |
| `seed` | 42 | ‚úì |
| `early_stop_eps_pct` | 0.01 (1%) | ‚úì |
| `max_no_improvement` | 5 | ‚úì |
| `initial_population` | 20 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π | ‚úì |
| `max_iter` (LDA) | 60 | ‚úì |
| `batch_size` (LDA) | 2048 | ‚úì |
| `learning_method` (LDA) | "online" | ‚úì |

### 4.2 –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–ø—É–ª—è—Ü–∏—è (–æ–¥–∏–Ω–∞–∫–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö)

**–ó–Ω–∞—á–µ–Ω–∏—è:**
```python
[733, 811, 33, 355, 777, 115, 452, 940, 879, 345,
 576, 53, 950, 602, 162, 238, 422, 511, 660, 285]
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- GA: `run(initial_population=initial_population.copy())`
- ES: `run(initial_population=initial_population.copy())`
- PABBO Simple: `run(initial_population=initial_population.copy())`
- PABBO Full: `run(initial_population=initial_population.copy())`

‚úì –í—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `.copy()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### 4.3 Early stopping (–æ–¥–∏–Ω–∞–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö)

**–ö—Ä–∏—Ç–µ—Ä–∏–π:**
```
relative_change = |current_perplexity - prev_perplexity| / prev_perplexity

if relative_change <= 0.01:  # 1%
    no_improvement_count += 1
    if no_improvement_count >= 5:
        STOP
```

‚úì –í—Å–µ 4 –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é –ª–æ–≥–∏–∫—É

---

## ‚úÖ 5. –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | GA | ES | PABBO Simple | PABBO Full |
|----------------|----|----|--------------|------------|
| **Pop size** | 20 | 5 parents + 10 offspring | –í—Å–µ —Ç–æ—á–∫–∏ | –í—Å–µ —Ç–æ—á–∫–∏ |
| **Exploration** | Crossover + Mutation | Mutation N(0,5) | Random 30% | Random 30% |
| **Exploitation** | Tournament + Elitism | (Œº+Œª) | Gaussian top-5 | Transformer |
| **–ê–¥–∞–ø—Ç–∞—Ü–∏—è** | –ù–µ—Ç | –ù–µ—Ç | Temperature‚Üì | Temperature‚Üì + Model |
| **Crossover** | 90% | - | - | - |
| **Mutation** | 20%, ¬±5 | N(0,5) | - | - |
| **Elite** | 5 | Implicit (Œº+Œª) | - | - |
| **Memory** | 20 —Ç–µ–∫—É—â–∏—Ö | 5+10 —Ç–µ–∫—É—â–∏—Ö | –í—Å–µ | –í—Å–µ |

---

## ‚úÖ 6. –§–∞–π–ª—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- ‚úì `lda_hyperopt/HYPERPARAMETERS.md` - –¥–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úì `lda_hyperopt/README.md` - –æ–±–Ω–æ–≤–ª–µ–Ω —Å max_iter=60
- ‚úì `VERIFICATION_REPORT.md` (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - –æ—Ç—á–µ—Ç –æ –ø—Ä–æ–≤–µ—Ä–∫–µ

---

## üìù –†–µ–∑—é–º–µ

**–í—Å–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**

1. ‚úÖ LDA max_iter = 60
2. ‚úÖ –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–ø—É–ª—è—Ü–∏—è –æ–¥–∏–Ω–∞–∫–æ–≤–∞ –¥–ª—è –≤—Å–µ—Ö (20 –∑–Ω–∞—á–µ–Ω–∏–π)
3. ‚úÖ Early stopping –æ–¥–∏–Ω–∞–∫–æ–≤ (1% –∑–∞ 5 –∏—Ç–µ—Ä–∞—Ü–∏–π)
4. ‚úÖ –í—Å–µ –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã
5. ‚úÖ –í—Å–µ 4 –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ–±—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–ì–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- **GA**: cxpb=0.9, mutpb=0.2, elite=5, tournsize=3, dT=5
- **ES**: mu=5, lmbda=10, dT=5
- **PABBO Simple**: exploration_rate=0.3, temperature_decay=0.95
- **PABBO Full**: exploration_rate=0.3, temperature_decay=0.95, + Transformer

**–î–ª—è –∑–∞–ø—É—Å–∫–∞:**
```bash
# –í—Å–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã
python run.py --data data.npz --iterations 50 --outdir results

# –° PABBO Full
python run.py --data data.npz --algorithms PABBO_Full \
  --pabbo-model ../pabbo_method/checkpoints/best_model.pt
```